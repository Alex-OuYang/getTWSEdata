# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
View(STOCK)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191201"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
View(datediffFunc)
View(datediffFunc)
View(datediffFunc)
View(datediff)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
STOCK["2019-11"]
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
STOCK[substring(datediff[j],1,5)]
STOCK[substring(datediff[j],1,6)]
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
source("DownloadBasicData.R")
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
isDownloadData=TRUE
# Download Basic Data
stocknolist=c("2330","2412")
source("DownloadBasicData.R")
downloadData(stocknolist)
# Show Basic Data
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
chartSeries(STOCK,up.col = "red",dn.col = "green",theme = "white",name = stockno)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
stockno="2330"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20191101"
endDate=nowDate
# Download Basic Data
#isDownloadData=TRUE
#stocknolist=c("2330","2412")
#source("DownloadBasicData.R")
#downloadData(stocknolist)
# Show Basic Data
source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
# View(STOCK)
addBBands(n=20,sd=2,maType = "EMA")
addEMA(n=20,col = "blue")
addEMA(n=60,col = "purple")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20100101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
stocknolist=c("2330")
source("DownloadBasicData.R")
downloadData(stocknolist)
# Show Basic Data
#stockno="2330"
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
source("GetCompanyList.R")
# Download Basic Data
isDownloadData=TRUE
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
setwd(paste0(projectPathStr,"/BasicData") )
library(jsonlite)
companyurl="https://quality.data.gov.tw/dq_download_json.php?nid=18419&md5_url=9791ec942cbcb925635aa5612ae95588"
urldata=url(companyurl)
company=fromJSON(urldata,flatten=T)
companylist=cbind(company[,2])#股票代號列表
stocknolist=companylist[8:length(companylist)]
source("DownloadBasicData.R")
downloadData(stocknolist)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
stocknolist=companylist[8:length(companylist)]
stocknolist
source("DownloadBasicData.R")
downloadData(stocknolist)
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
downloadData=function(stocknolist){
for(i in stocknolist){
print(paste("-------",stocknolist[i],"-------"))
datediff=datediffFunc(startDate = startDate,endDate = endDate)
STOCK=stockFunc(stockno = i,datediff = datediff)
#View(STOCK)
for(j in c(1:nrow(datediff))){
if(isDownloadData==TRUE){
#print(STOCK[substring(datediff[j],1,6)])
ouputPath=paste0(projectPathStr,"/StockData/",i,"/",substring(datediff[j],1,4),"/")
dir.create(file.path(ouputPath),recursive = TRUE,mode = "0777",showWarnings = FALSE)
write.csv(as.matrix(STOCK[substring(datediff[j],1,6)]), file = paste0(ouputPath,substring(datediff[j],1,6),".csv"))
print(paste0(substring(datediff[j],1,6),".csv Done-------"))
}
}
}
}
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
downloadData(stocknolist)
companylist[8:length(companylist)]
stocknolist
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
#stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
downloadData(stocknolist)
stocknolist
stocknolist[i]
stocknolist[1]
stocknolist[2]
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
#stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
downloadData(stocknolist)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20190101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
#stocknolist=c(companylist)
stocknolist=c(companylist[8:length(companylist)])
stocknolist
source("DownloadBasicData.R")
downloadData(stocknolist)
downloadData(stocknolist)
check.for.updates.R()
require(installr)
check.for.updates.R()
install.R()
install.R()
version
install.packages(c("foreign", "jsonlite", "nlme", "stringi", "xts", "zoo"))
install.packages("foreign")
install.packages("foreign")
require(installr)
check.for.updates.R()
install.R()
version
cls
version
require(installr)
check.for.updates.R()
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
setwd(paste0(projectPathStr,"/BasicData") )
library(jsonlite)
companyurl="https://quality.data.gov.tw/dq_download_json.php?nid=18419&md5_url=9791ec942cbcb925635aa5612ae95588"
urldata=url(companyurl)
company=fromJSON(urldata,flatten=T)
companylist=cbind(company[,2])#股票代號列表
companylist
source("GetCompanyList.R")
#stocknolist=c(companylist)
stocknolist=c(companylist[8:length(companylist)])
source("ShowBasicData.R")
stockno="2330"
source("ShowBasicData.R")
require(installr)
check.for.updates.R()
install.R()
version
install.packages(c("glue", "nlme", "quantmod", "survival"))
require(installr)
check.for.updates.R()
install.R()
version
clean
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Show Basic Data
stockno="2330"
source("ShowBasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
#stocknolist=c(companylist)
stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
downloadData(stocknolist)
# Show Basic Data
#stockno="2330"
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
#source("GetCompanyList.R")
#stocknolist=c(companylist)
#stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
install.packages("quantmod")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
setwd(paste0(projectPathStr,"/BasicData") )
library(jsonlite)
require(jsonlite)
rownames(installed.packages())
rownames(installed.packages("jsonlite"))
rownames(installed.packages("quantmod"))
rownames(installed.packages(quantmod))
package.check
installed.packages()
a=c(installed.packages())
a
a=rownames(installed.packages())
a
a[1]
match(a,"jsontitle")
match(a,"curl")
match(c(a),"curl")
find.package("curl")
find.package("jsontitle")
find.package("jsontitle")
find.package("jsontitle")?1:0
find.package("curl")?1:0
install.packages("zoo")
