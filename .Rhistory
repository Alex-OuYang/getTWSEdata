check.for.updates.R()
install.R()
version
install.packages(c("glue", "nlme", "quantmod", "survival"))
require(installr)
check.for.updates.R()
install.R()
version
clean
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Show Basic Data
stockno="2330"
source("ShowBasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
#stocknolist=c(companylist)
stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
downloadData(stocknolist)
# Show Basic Data
#stockno="2330"
#source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
#source("GetCompanyList.R")
#stocknolist=c(companylist)
#stocknolist=c(companylist[8:length(companylist)])
source("DownloadBasicData.R")
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
install.packages("quantmod")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
setwd(paste0(projectPathStr,"/BasicData") )
library(jsonlite)
require(jsonlite)
rownames(installed.packages())
rownames(installed.packages("jsonlite"))
rownames(installed.packages("quantmod"))
rownames(installed.packages(quantmod))
package.check
installed.packages()
a=c(installed.packages())
a
a=rownames(installed.packages())
a
a[1]
match(a,"jsontitle")
match(a,"curl")
match(c(a),"curl")
find.package("curl")
find.package("jsontitle")
find.package("jsontitle")
find.package("jsontitle")?1:0
find.package("curl")?1:0
install.packages("zoo")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
source("GetCompanyList.R")
rm(list=ls())
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
View(nowDateSplit)
setwd(paste0(projectPathStr,"/BasicData") )
library(jsonlite)
require(jsonlite)
"xtable" %in% rownames(installed.packages())
rownames(installed.packages())
installed.packages()
View(installed.packages())
rownames(installed.packages())
"jsonlittle" in rownames(installed.packages())
match("jsonlittle",rownames(installed.packages()))
match("zoo",rownames(installed.packages()))
which("zoo",rownames(installed.packages()))
match("zoo",rownames(installed.packages()))
setwd(paste0(projectPathStr,"/BasicData") )
if("jsonlite" %in% rownames(installed.packages())){
install.packages(jsonlite)
}
library(jsonlite)
setwd(paste0(projectPathStr,"/BasicData") )
if("jsonlite" %in% rownames(installed.packages())){
install.packages("jsonlite")
}
library(jsonlite)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
setwd(paste0(projectPathStr,"/BasicData") )
if("jsonlite" %in% rownames(installed.packages())){
install.packages("jsonlite")
}
library(jsonlite)
companyurl="https://quality.data.gov.tw/dq_download_json.php?nid=18419&md5_url=9791ec942cbcb925635aa5612ae95588"
urldata=url(companyurl)
company=fromJSON(urldata,flatten=T)
companylist=cbind(company[,2])#股票代號列表
View(companylist)
"jsonlite" %in% rownames(installed.packages())
!TRUE
setwd(paste0(projectPathStr,"/BasicData") )
if(!("jsonlite" %in% rownames(installed.packages()))){
install.packages("jsonlite")
}
library(jsonlite)
setwd(paste0(projectPathStr,"/BasicData") )
if(!("quantmod" %in% rownames(installed.packages()))){
install.packages("quantmod")
}
if(!("jsonlite" %in% rownames(installed.packages()))){
install.packages("jsonlite")
}
library(quantmod)
library(jsonlite)
stockFunc=function(stockno,datediff){
datediff=as.matrix(datediff)
STOCK=c()
for(i in c(1:nrow(datediff))){
stockurl=paste0("http://www.twse.com.tw/exchangeReport/STOCK_DAY?date=",datediff[i,],"&stockNo=",stockno)
urldata=url(stockurl)
stock=fromJSON(urldata,flatten=T)
#print(stock)
STK=cbind(stock$data[,1],stock$data[,4],stock$data[,5],stock$data[,6],stock$data[,7],stock$data[,9])
STOCK=rbind(STOCK,STK)
Sys.sleep(sample(10, 1))
}
#print(stock)
STOCK[,2]=as.numeric(STOCK[,2])#O
STOCK[,3]=as.numeric(STOCK[,3])#P
STOCK[,4]=as.numeric(STOCK[,4])#C
STOCK[,5]=as.numeric(STOCK[,5])#L
STOCK[,6]=as.numeric(gsub(",","",STOCK[,6]))#V
Sys.setenv(TZ = "Asia/Taipei")
timeCharVector = as.character(STOCK[,1])
TimeY=substr(timeCharVector,1,3)
TimeY=as.numeric(TimeY)+1911
timeCharVector=paste0(TimeY,substr(timeCharVector,4,9))
timeVector=strptime(timeCharVector,"%Y/%m/%d",tz=Sys.timezone())
timeVector=as.POSIXct(timeVector)
STOCK=cbind(as.numeric(STOCK[,2]),as.numeric(STOCK[,3]),as.numeric(STOCK[,4]),as.numeric(STOCK[,5]),as.numeric(STOCK[,6]))
STOCK=xts(STOCK,as.POSIXct(timeVector))
colnames(STOCK)=c("Open","High","Low","Close","Volume")
return(STOCK)
}
View(STOCK)
View(stockFunc)
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
stocknolist=c(companylist[8:length(companylist)])
stocknolist
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
isDownloadData=TRUE
source("GetCompanyList.R")
stocknolist=c(companylist)
stocknolist=c(companylist[1:length(companylist)])
stocknolist
# Show Basic Data
stockno="2330"
source("ShowBasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Show Basic Data
stockno="2330"
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
datediff=datediffFunc(startDate = startDate,endDate = endDate)
datediff
STOCK=stockFunc(stockno = stockno,datediff = datediff)
rm(list=ls())
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200601"
endDate=nowDate
# Show Basic Data
stockno="2330"
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
datediff=datediffFunc(startDate = startDate,endDate = endDate)
STOCK=stockFunc(stockno = stockno,datediff = datediff)
chartSeries(STOCK,up.col = "red",dn.col = "green",theme = "white",name = stockno)
chartSeries(STOCK,up.col = "red",dn.col = "green",theme = "white",name = stockno)
# View(STOCK)
addBBands(n=20,sd=2,maType = "EMA")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200501"
endDate=nowDate
# Download Basic Data
# source("GetCompanyList.R")
# stocknolist=c(companylist)
# stocknolist=c(companylist[1:length(companylist)])
# isDownloadData=TRUE
# source("DownloadBasicData.R")
# downloadData(stocknolist)
# Show Basic Data
stockno="2330"
source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200501"
endDate=nowDate
# Download Basic Data
# source("GetCompanyList.R")
# stocknolist=c(companylist)
# stocknolist=c(companylist[1:length(companylist)])
# isDownloadData=TRUE
# source("DownloadBasicData.R")
# downloadData(stocknolist)
# Show Basic Data
stockno="6547"
source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200601"
endDate=nowDate
# Download Basic Data
# source("GetCompanyList.R")
# stocknolist=c(companylist)
# stocknolist=c(companylist[1:length(companylist)])
# isDownloadData=TRUE
# source("DownloadBasicData.R")
# downloadData(stocknolist)
# Show Basic Data
stockno="6547"
source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200601"
endDate=nowDate
# Download Basic Data
# source("GetCompanyList.R")
# stocknolist=c(companylist)
# stocknolist=c(companylist[1:length(companylist)])
# isDownloadData=TRUE
# source("DownloadBasicData.R")
# downloadData(stocknolist)
# Show Basic Data
stockno="2312"
source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
# source("GetCompanyList.R")
# stocknolist=c(companylist)
# stocknolist=c(companylist[1:length(companylist)])
# isDownloadData=TRUE
# source("DownloadBasicData.R")
# downloadData(stocknolist)
# Show Basic Data
stockno="2882"
source("ShowBasicData.R")
# Analysis
#source("BasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Download Basic Data
source("GetCompanyList.R")
stocknolist=c(companylist)
stocknolist=c(companylist[1:length(companylist)])
isDownloadData=TRUE
source("DownloadBasicData.R")
downloadData(stocknolist)
urldata
stock
c(companylist)
c("2330","2331")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
stockno="2882"
source("ShowBasicData.R")
stockno="2882"
source("ShowBasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200401"
endDate=nowDate
# Download Basic Data
# source("GetCompanyList.R")
# get all company list
# stocknolist=c(companylist)
# stocknolist=c(companylist[1:length(companylist)])
# asign company list
# stocknolist=c("2330","2882")
# isDownloadData=TRUE
# source("DownloadBasicData.R")
# downloadData(stocknolist)
# Show Basic Data
stockno="2882"
source("ShowBasicData.R")
# addBBands(n=20,sd=2,maType = "EMA")
# addEMA(n=20,col = "blue")
# addEMA(n=60,col = "purple")
# Analysis
#source("BasicData.R")
STOCK
git
clear
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("jsonlite")
install.packages("quantmod")
check.for.updates.R()
require(installr)
install.packages("installr")
require(installr)
check.for.updates.R()
install.R()
install.packages("installr")
require(installr)
check.for.updates.R()
version
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
require(installr)
if(check.for.updates.R()){
install.R()
}else{
version
}
install.packages("TTR")
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
require(installr)
check.for.updates.R()
install.packages(c("glue", "TTR"))
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
require(installr)
check.for.updates.R()
install.packages("TTR")
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
require(installr)
if(check.for.updates.R()){
install.R()
}else{
version
}
install.packages(c("jsonlite", "stringi", "xts"))
install.packages("xts")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
stockno="2882"
source("ShowBasicData.R")
install.packages("xts")
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
require(installr)
check.for.updates.R()
if(check.for.updates.R()){
install.R()
}else{
version
}
if(check.for.updates.R()){
install.R()
}else{
version
}
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Show Basic Data
stockno="2882"
source("ShowBasicData.R")
rm(list=ls())
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
nowDateSplit=strsplit(as.character(Sys.Date()),"-")
nowDate=paste0(nowDateSplit[[1]][1],nowDateSplit[[1]][2],nowDateSplit[[1]][3])
startDate="20200101"
endDate=nowDate
# Show Basic Data
stockno="2882"
source("ShowBasicData.R")
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
datediff=datediffFunc(startDate = startDate,endDate = endDate)
STOCK=stockFunc(stockno = stockno,datediff = datediff)
chartSeries(STOCK,up.col = "red",dn.col = "green",theme = "white",name = stockno)
# Show Basic Data
stockno="2882"
source("ShowBasicData.R")
projectPathStr="C:/Users/alex1/Desktop/getTWSEdata"
source("FuncDateDiff.R")
setwd(paste0(projectPathStr,"/BasicData") )
source("FuncDateDiff.R")
source("FuncGetStock.R")
datediff=datediffFunc(startDate = startDate,endDate = endDate)
STOCK=stockFunc(stockno = stockno,datediff = datediff)
chartSeries(STOCK,up.col = "red",dn.col = "green",theme = "white",name = stockno)
addSMA(n=10,col="red")
if(!("installr" %in% rownames(installed.packages()))){
install.packages("installr")
}
require(installr)
if(check.for.updates.R()){
install.R()
}else{
version
}
if(check.for.updates.R()){
install.R()
}else{
version
}
